(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

//canavsとクォータニオン、ビデオエレメントをグローバルに扱う
var c;
var q = new qtnIV();
var qt = q.identity(q.create());
var video1;
var video2;
/*
var video3;

var video4;
var video5;
var video6;
var video7;
var video8;
var video9;
var video10;
var video11;
var video12;

var video13;
var video14;
*/

//ビデオをロードした数を数える
var load_num = 0;
var select_video = 1;

//audio関連
var Audiocontext;
var source;
var analyser;
var frequency;

var fft_flag = false;
var speed = 0.0;
//マウスムーブイベントに登録する処理
function mouseMove(e) {
	var cw = c.width;
	var ch = c.height;
	var wh = 1 / Math.sqrt(cw * cw + ch * ch);
	var x = e.clientX - c.offsetLeft - cw * 0.5;
	var y = e.clientY - c.offsetTop - ch * 0.5;
	var sq = Math.sqrt(x * x + y * y);
	var r = sq * 2.0 * Math.PI * wh;
	if (sq != 1) {
		sq = 1 / sq;
		x *= sq;
		y *= sq;
	}
	q.rotate(r, [y, x, 0.0], qt);
}

//ボタンをおしたかどうか
function KeyDown(e) {
	//console.log(e.keyCode);
	if (e.keyCode == 49) {
		//1を押したら
		video1.play();
		select_video = 1;
	} else if (e.keyCode == 50) {
		//2を押したら
		video2.play();
		select_video = 2;
	}
	//sボタンは83
	if (e.keyCode == 83 && fft_flag == false) {
		fft_flag = true;
	} else if (e.keyCode == 83 && fft_flag == true) {
		fft_flag = false;
	}
	//スペースは32
	if (e.keyCode == 32) {
		if (speed == 20.0) {
			speed = 0.0;
		}
		speed += 1.0;
		console.log(speed);
	}
}
//再生可能なビデオタイプを調べる
function checkVideoType(_video) {
	if (_video.canPlayType("video/gif") === 'maybe') {
		return 'gif';
	} else if (_video.canPlayType("video/mp4") === 'maybe') {
		return 'mp4';
	} else {
		return null;
	}
}

onload = function onload() {
	navigator.getMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;

	//端末のビデオ、音声ストリームを所得
	navigator.getMedia({ audio: true }, function (stream) {
		var animationId;
		Audiocontext = new webkitAudioContext();
		//マイク音声の所得
		source = Audiocontext.createMediaStreamSource(stream);
		//アナライザー
		analyser = Audiocontext.createAnalyser();

		//高速フーリエ変換のデータサイズ
		analyser.fftSize = 2048;
		//振幅スペクトルが入っている配列
		frequency = new Uint8Array(analyser.frequencyBinCount);
		//おそらく音声データとアナライザーをくっつける
		source.connect(analyser);
		init();
	}, function (err) {
		//エラー処理
	});

	var socket = io();
	//サーバーからデータを受け取る
	socket.on("vjActionFromServer", function (msg) {
		$('#messages').append($('<li>').text(msg));
		if (msg == 1) {
			video1.play();
			select_video = 1;
		} else if (msg == 2) {
			video2.play();
			select_video = 2;
		}
	});
};
function init() {
	//canvasエレメントを所得
	c = document.getElementById("canvas");
	c.width = 720;
	c.height = 480;

	video1 = video_create("../img/original.");
	video2 = video_create("../img/hand.");

	video_actions(video1);
	video_actions(video2);

	//ボタンを押したかどうか
	document.addEventListener("keydown", KeyDown);
}
function video_actions(_video) {
	_video.addEventListener("canplaythrough", function () {
		action();
	}, true);
	_video.addEventListener("ended", function () {
		_video.play();
	}, true);
}
function action() {
	load_num++;
	/*
 if(load_num==14){
 	render();
 }*/
	if (load_num == 5) {
		render();
	}
}
function video_create(_src) {
	//ビデオエレメントを生成
	var video = document.createElement("video");
	//ビデオタイプのチェック
	var videoExt = checkVideoType(video);
	if (videoExt === null) {
		alert("not supported");
		return;
	}
	//ソースの読み込み
	video.src = _src + videoExt;
	return video;
}

function render() {
	//ビデオ１を再生
	video1.play();
	c.addEventListener("mousemove", mouseMove, true);
	var gl = c.getContext("webgl") || c.getContext("experimental-webgl");

	var v_shader = create_shader("vs");
	var f_shader = create_shader("fs");

	var prg = create_program(v_shader, f_shader);
	var attLocation = new Array();
	attLocation[0] = gl.getAttribLocation(prg, "position");
	attLocation[1] = gl.getAttribLocation(prg, "color");
	attLocation[2] = gl.getAttribLocation(prg, "textureCoord");
	attLocation[3] = gl.getAttribLocation(prg, "instancePosition");

	var attStride = new Array();
	attStride[0] = 3;
	attStride[1] = 4;
	attStride[2] = 2;
	attStride[3] = 3;

	var uniLocation = new Array();
	uniLocation[0] = gl.getUniformLocation(prg, "mvpMatrix");
	uniLocation[1] = gl.getUniformLocation(prg, "texture");

	//キューブデータ
	var cubeData = cube(1, [1.0, 1.0, 1.0, 1.0]);
	var cPosition = create_vbo(cubeData.p);
	var cColor = create_vbo(cubeData.c);
	var cTextureCoord = create_vbo(cubeData.t);
	var cVBOList = [cPosition, cColor, cTextureCoord];
	var cIndex = create_ibo(cubeData.i);
	/*拡張機能を有効化*/
	var ext;
	ext = gl.getExtension("ANGLE_instanced_arrays");
	if (ext == null) {
		alert("ANGLE_instanced_arrays not supported");
		return;
	}

	//各インスタンスに適用するデータ

	//インスタンスの数
	var instanceCount = 125;

	//インスタンス用配列
	var instancePositions = new Array();

	//配列用のストライド
	var offsetPosition = 3;

	for (var i = 0; i < instanceCount; i++) {
		instancePositions[i * offsetPosition] = -(i % 5.0) * 1.5 + 0.0;
		instancePositions[i * offsetPosition + 1] = Math.floor(i / 5.0) % 5.0 * 1.5 + 0.0;
		instancePositions[i * offsetPosition + 2] = Math.floor(i / 25.0) * 1.5 + 0.0;
	}

	//配列からVBOを生成
	var iPosition = create_vbo(instancePositions);

	//トーラスのattribute関連
	set_attribute(cVBOList, attLocation, attStride);
	gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, cIndex);

	//インスタンス用の座標位置VBOを有効にする
	gl.bindBuffer(gl.ARRAY_BUFFER, iPosition);
	gl.enableVertexAttribArray(attLocation[3]);
	gl.vertexAttribPointer(attLocation[3], attStride[3], gl.FLOAT, false, 0, 0);
	//インスタンス用の有効化し除数を指定する
	ext.vertexAttribDivisorANGLE(attLocation[3], 1);
	//各種行列の生成と初期化
	var m = new matIV();
	var mMatrix = m.identity(m.create());
	var vMatrix = m.identity(m.create());
	var pMatrix = m.identity(m.create());
	var tmpMatrix = m.identity(m.create());
	var mvpMatrix = m.identity(m.create());
	var invMatrix = m.identity(m.create());

	gl.enable(gl.DEPTH_TEST);
	gl.depthFunc(gl.LEQUAL);
	gl.enable(gl.CULL_FACE);

	gl.activeTexture(gl.TEXTURE0);

	var videoTexture1 = null;
	var videoTexture2 = null;

	create_textureVideo(video1, 1);
	create_textureVideo(video2, 2);
	//カウンタの宣言
	var count = 0;
	var count2 = 0;

	//恒常ループ
	(function loop() {
		var scaleValue = 1.0;
		if (fft_flag == true) {
			analyser.getByteFrequencyData(frequency);
			//console.log(frequency[60]);
			scaleValue = frequency[50] / 500 + 0.6;
		}
		count++;
		if (count % 10 == 0) {
			count2++;
		}
		if (select_video == 1) {
			//テクスチャを更新する
			gl.bindTexture(gl.TEXTURE_2D, null);
			gl.bindTexture(gl.TEXTURE_2D, videoTexture1);
			gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, video1);
		} else if (select_video == 2) {
			//テクスチャを更新する
			gl.bindTexture(gl.TEXTURE_2D, null);
			gl.bindTexture(gl.TEXTURE_2D, videoTexture2);
			gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, video2);
		}

		//ビュー×プロジェクション座標変換行列
		var eyePosition = new Array();
		var camUpDirection = new Array();
		q.toVecIII([0.0, 0.0, 15.0], qt, eyePosition);
		q.toVecIII([0.0, 1.0, 0.0], qt, camUpDirection);
		m.lookAt(eyePosition, [0.0, 0.0, 0.0], camUpDirection, vMatrix);
		m.perspective(45, c.width / c.height, 0.1, 50.0, pMatrix);
		m.multiply(pMatrix, vMatrix, tmpMatrix);

		//canvasを初期化
		var hsv = hsva(count2 % 360, 1, 1, 1);
		gl.clearColor(hsv[0], hsv[1], hsv[2], hsv[3]);
		gl.clearDepth(1.0);
		gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

		//キューブのレンタリング
		m.identity(mMatrix);
		//m.rotate(mMatrix,(count%360)*Math.PI/180,[0.0,1.0,0.0],mMatrix);
		m.translate(mMatrix, [0.0, 0.0, speed], mMatrix);
		m.scale(mMatrix, [scaleValue, scaleValue, scaleValue], mMatrix);
		m.rotate(mMatrix, Math.PI, [0.0, 0.0, 1.0], mMatrix);
		m.multiply(tmpMatrix, mMatrix, mvpMatrix);
		m.inverse(mMatrix, invMatrix);
		gl.uniformMatrix4fv(uniLocation[0], false, mvpMatrix);
		gl.uniform1i(uniLocation[1], 0);

		ext.drawElementsInstancedANGLE(gl.TRIANGLES, cubeData.i.length, gl.UNSIGNED_SHORT, 0, instanceCount);

		gl.flush();
		//requestAnimationFrame(a);
		//requestAnimationFrame(arguments.callee);
		requestAnimationFrame(loop);
		//setTimeout(a,1000/30);
	})();

	//シェーダを生成する関数
	function create_shader(id) {
		var shader;

		var scriptElement = document.getElementById(id);

		if (!scriptElement) {
			return;
		}

		switch (scriptElement.type) {
			case 'x-shader/x-vertex':
				shader = gl.createShader(gl.VERTEX_SHADER);
				break;

			case 'x-shader/x-fragment':
				shader = gl.createShader(gl.FRAGMENT_SHADER);
				break;

			default:
				return;
		}

		gl.shaderSource(shader, scriptElement.text);

		gl.compileShader(shader);
		//シェーダーが正しくコンパイルされたかチェック
		if (gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
			return shader;
		} else {
			alert(gl.getShaderInfoLog(shader));
		}
	}

	function create_program(vs, fs) {
		//プログラムオブジェクトの生成
		var program = gl.createProgram();

		gl.attachShader(program, vs);
		gl.attachShader(program, fs);

		gl.linkProgram(program);

		if (gl.getProgramParameter(program, gl.LINK_STATUS)) {
			//成功していたらプログラムオブジェクトを有効にする
			gl.useProgram(program);

			//プログラムオブジェクトを返して終了
			return program;
		} else {
			alert(gl.getProgramInfoLog(program));
		}
	}

	//VBOを生成する関数
	function create_vbo(data) {
		var vbo = gl.createBuffer();
		//バッファをバインド
		gl.bindBuffer(gl.ARRAY_BUFFER, vbo);
		//バッファにデータをセット
		gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(data), gl.STATIC_DRAW);
		//バッファのバインドを無効化
		gl.bindBuffer(gl.ARRAY_BUFFER, null);

		return vbo;
	}

	function set_attribute(vbo, attL, attS) {
		//引数として受け取った配列を処理する
		for (var i in vbo) {
			gl.bindBuffer(gl.ARRAY_BUFFER, vbo[i]);
			//attributeLocationを有効にする
			gl.enableVertexAttribArray(attL[i]);
			//attributeLocationを通知し登録
			gl.vertexAttribPointer(attL[i], attS[i], gl.FLOAT, false, 0, 0);
		}
	}
	function create_ibo(data) {
		var ibo = gl.createBuffer();
		gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);
		gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Int16Array(data), gl.STATIC_DRAW);
		gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
		return ibo;
	}
	//videoのテクスチャを作成
	function create_textureVideo(_source, _number) {
		var videoTexture = gl.createTexture(gl.TEXTURE_2D);
		gl.bindTexture(gl.TEXTURE_2D, videoTexture);
		gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, _source);
		gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
		gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);
		gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
		gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);

		gl.bindTexture(gl.TEXTURE_2D, null);
		switch (_number) {
			case 1:
				videoTexture1 = videoTexture;
				break;
			case 2:
				videoTexture2 = videoTexture;
				break;

			default:
				break;
		}
	}
}

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGpzXFx2ai1zY3JlZW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBO0FBQ0EsSUFBSSxDQUFKO0FBQ0EsSUFBSSxJQUFFLElBQUksS0FBSixFQUFOO0FBQ0EsSUFBSSxLQUFHLEVBQUUsUUFBRixDQUFXLEVBQUUsTUFBRixFQUFYLENBQVA7QUFDQSxJQUFJLE1BQUo7QUFDQSxJQUFJLE1BQUo7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7QUFDQSxJQUFJLFdBQVMsQ0FBYjtBQUNBLElBQUksZUFBYSxDQUFqQjs7QUFFQTtBQUNBLElBQUksWUFBSjtBQUNBLElBQUksTUFBSjtBQUNBLElBQUksUUFBSjtBQUNBLElBQUksU0FBSjs7QUFFQSxJQUFJLFdBQVMsS0FBYjtBQUNBLElBQUksUUFBTSxHQUFWO0FBQ0E7QUFDQSxTQUFTLFNBQVQsQ0FBbUIsQ0FBbkIsRUFBcUI7QUFDcEIsS0FBSSxLQUFHLEVBQUUsS0FBVDtBQUNBLEtBQUksS0FBRyxFQUFFLE1BQVQ7QUFDQSxLQUFJLEtBQUcsSUFBRSxLQUFLLElBQUwsQ0FBVSxLQUFHLEVBQUgsR0FBTSxLQUFHLEVBQW5CLENBQVQ7QUFDQSxLQUFJLElBQUUsRUFBRSxPQUFGLEdBQVUsRUFBRSxVQUFaLEdBQXVCLEtBQUcsR0FBaEM7QUFDQSxLQUFJLElBQUUsRUFBRSxPQUFGLEdBQVUsRUFBRSxTQUFaLEdBQXNCLEtBQUcsR0FBL0I7QUFDQSxLQUFJLEtBQUcsS0FBSyxJQUFMLENBQVUsSUFBRSxDQUFGLEdBQUksSUFBRSxDQUFoQixDQUFQO0FBQ0EsS0FBSSxJQUFFLEtBQUcsR0FBSCxHQUFPLEtBQUssRUFBWixHQUFlLEVBQXJCO0FBQ0EsS0FBRyxNQUFJLENBQVAsRUFBUztBQUNSLE9BQUcsSUFBRSxFQUFMO0FBQ0EsT0FBRyxFQUFIO0FBQ0EsT0FBRyxF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QUcsYUFBSCxDQUFpQixHQUFHLFVBQXBCLEVBQStCLEdBQUcsa0JBQWxDLEVBQXFELEdBQUcsTUFBeEQ7QUFDQSxLQUFHLGFBQUgsQ0FBaUIsR0FBRyxVQUFwQixFQUErQixHQUFHLGNBQWxDLEVBQWlELEdBQUcsYUFBcEQ7QUFDQSxLQUFHLGFBQUgsQ0FBaUIsR0FBRyxVQUFwQixFQUErQixHQUFHLGNBQWxDLEVBQWlELEdBQUcsYUFBcEQ7O0FBRUEsS0FBRyxXQUFILENBQWUsR0FBRyxVQUFsQixFQUE2QixJQUE3QjtBQUNNLFVBQU8sT0FBUDtBQUNJLFFBQUssQ0FBTDtBQUNJLG9CQUFnQixZQUFoQjtBQUNBO0FBQ0osUUFBSyxDQUFMO0FBQ0ksb0JBQWdCLFlBQWhCO0FBQ0E7O0FBRUo7QUFDSTtBQVRSO0FBV047QUFDRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvL2NhbmF2c+OBqOOCr+OCqeODvOOCv+ODi+OCquODs+OAgeODk+ODh+OCquOCqOODrOODoeODs+ODiOOCkuOCsOODreODvOODkOODq+OBq+aJseOBhlxyXG52YXIgYztcclxudmFyIHE9bmV3IHF0bklWKCk7XHJcbnZhciBxdD1xLmlkZW50aXR5KHEuY3JlYXRlKCkpO1xyXG52YXIgdmlkZW8xO1xyXG52YXIgdmlkZW8yO1xyXG4vKlxyXG52YXIgdmlkZW8zO1xyXG5cclxudmFyIHZpZGVvNDtcclxudmFyIHZpZGVvNTtcclxudmFyIHZpZGVvNjtcclxudmFyIHZpZGVvNztcclxudmFyIHZpZGVvODtcclxudmFyIHZpZGVvOTtcclxudmFyIHZpZGVvMTA7XHJcbnZhciB2aWRlbzExO1xyXG52YXIgdmlkZW8xMjtcclxuXHJcbnZhciB2aWRlbzEzO1xyXG52YXIgdmlkZW8xNDtcclxuKi9cclxuXHJcbi8v44OT44OH44Kq44KS44Ot44O844OJ44GX44Gf5pWw44KS5pWw44GI44KLXHJcbnZhciBsb2FkX251bT0wO1xyXG52YXIgc2VsZWN0X3ZpZGVvPTE7XHJcblxyXG4vL2F1ZGlv6Zai6YCjXHJcbnZhciBBdWRpb2NvbnRleHQ7XHJcbnZhciBzb3VyY2U7XHJcbnZhciBhbmFseXNlcjtcclxudmFyIGZyZXF1ZW5jeTtcclxuXHJcbnZhciBmZnRfZmxhZz1mYWxzZTtcclxudmFyIHNwZWVkPTAuMDtcclxuLy/jg57jgqbjgrnjg6Djg7zjg5bjgqTjg5njg7Pjg4jjgavnmbvpjLLjgZnjgovlh6bnkIZcclxuZnVuY3Rpb24gbW91c2VNb3ZlKGUpe1xyXG5cdHZhciBjdz1jLndpZHRoO1xyXG5cdHZhciBjaD1jLmhlaWdodDtcclxuXHR2YXIgd2g9MS9NYXRoLnNxcnQoY3cqY3crY2gqY2gpO1xyXG5cdHZhciB4PWUuY2xpZW50WC1jLm9mZnNldExlZnQtY3cqMC41O1xyXG5cdHZhciB5PWUuY2xpZW50WS1jLm9mZnNldFRvcC1jaCowLjU7XHJcblx0dmFyIHNxPU1hdGguc3FydCh4KngreSp5KTtcclxuXHR2YXIgcj1zcSoyLjAqTWF0aC5QSSp3aDtcclxuXHRpZihzcSE9MSl7XHJcblx0XHRzcT0xL3NxO1xyXG5cdFx0eCo9c3E7XHJcblx0XHR5Kj1zcTtcclxuXHR9XHJcblx0cS5yb3RhdGUocixbeSx4LDAuMF0scXQpO1xyXG59XHJcblxyXG4vL+ODnOOCv+ODs+OCkuOBiuOBl+OBn+OBi+OBqeOBhuOBi1xyXG5mdW5jdGlvbiBLZXlEb3duKGUpe1xyXG5cdC8vY29uc29sZS5sb2coZS5rZXlDb2RlKTtcclxuXHRpZihlLmtleUNvZGU9PTQ5KXtcclxuXHRcdC8vMeOCkuaKvOOBl+OBn+OCiVxyXG5cdFx0dmlkZW8xLnBsYXkoKTtcclxuXHRcdHNlbGVjdF92aWRlbz0xO1xyXG5cdH1lbHNlIGlmKGUua2V5Q29kZT09NTApe1xyXG5cdFx0Ly8y44KS5oq844GX44Gf44KJXHJcblx0XHR2aWRlbzIucGxheSgpO1xyXG5cdFx0c2VsZWN0X3ZpZGVvPTI7XHJcblx0fVxyXG5cdC8vc+ODnOOCv+ODs+OBrzgzXHJcblx0aWYoZS5rZXlDb2RlPT04MyYmZmZ0X2ZsYWc9PWZhbHNlKXtcclxuXHRcdGZmdF9mbGFnPXRydWU7XHJcblx0fWVsc2UgaWYoZS5rZXlDb2RlPT04MyYmZmZ0X2ZsYWc9PXRydWUpe1xyXG5cdFx0ZmZ0X2ZsYWc9ZmFsc2U7XHJcblx0fVxyXG5cdC8v44K544Oa44O844K544GvMzJcclxuXHRpZihlLmtleUNvZGU9PTMyKXtcclxuXHRcdGlmKHNwZWVkPT0yMC4wKXtcclxuXHRcdFx0c3BlZWQ9MC4wO1xyXG5cdFx0fVxyXG5cdFx0c3BlZWQrPTEuMDtcclxuXHRcdGNvbnNvbGUubG9nKHNwZWVkKTtcclxuXHR9XHJcbn1cclxuLy/lho3nlJ/lj6/og73jgarjg5Pjg4fjgqrjgr/jgqTjg5fjgpLoqr/jgbnjgotcclxuZnVuY3Rpb24gY2hlY2tWaWRlb1R5cGUoX3ZpZGVvKXtcclxuXHRpZihfdmlkZW8uY2FuUGxheVR5cGUoXCJ2aWRlby9naWZcIik9PT0nbWF5YmUnKXtcclxuXHRcdHJldHVybiAnZ2lmJztcclxuXHR9ZWxzZSBpZihfdmlkZW8uY2FuUGxheVR5cGUoXCJ2aWRlby9tcDRcIik9PT0nbWF5YmUnKXtcclxuXHRcdHJldHVybiAnbXA0JztcclxuXHR9ZWxzZXtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxufVxyXG5cclxub25sb2FkPWZ1bmN0aW9uKCl7XHJcblx0bmF2aWdhdG9yLmdldE1lZGlhPW5hdmlnYXRvci5nZXRVc2VyTWVkaWF8fFxyXG5cdG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWF8fFxyXG5cdG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWF8fFxyXG5cdG5hdmlnYXRvci5tc0dldFVzZXJNZWRpYTtcclxuXHJcblx0Ly/nq6/mnKvjga7jg5Pjg4fjgqrjgIHpn7Plo7Djgrnjg4jjg6rjg7zjg6DjgpLmiYDlvpdcclxuXHRuYXZpZ2F0b3IuZ2V0TWVkaWEoe2F1ZGlvOnRydWV9LFxyXG5cdFx0ZnVuY3Rpb24oc3RyZWFtKXtcclxuXHRcdFx0dmFyIGFuaW1hdGlvbklkO1xyXG5cdFx0XHRBdWRpb2NvbnRleHQ9bmV3IHdlYmtpdEF1ZGlvQ29udGV4dCgpO1xyXG5cdFx0XHQvL+ODnuOCpOOCr+mfs+WjsOOBruaJgOW+l1xyXG5cdFx0XHRzb3VyY2U9QXVkaW9jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHN0cmVhbSk7XHJcblx0XHRcdC8v44Ki44OK44Op44Kk44K244O8XHJcblx0XHRcdGFuYWx5c2VyPUF1ZGlvY29udGV4dC5jcmVhdGVBbmFseXNlcigpO1xyXG5cclxuXHRcdFx0Ly/pq5jpgJ/jg5Xjg7zjg6rjgqjlpInmj5vjga7jg4fjg7zjgr/jgrXjgqTjgrpcclxuXHRcdFx0YW5hbHlzZXIuZmZ0U2l6ZT0yMDQ4O1xyXG5cdFx0XHQvL+aMr+W5heOCueODmuOCr+ODiOODq+OBjOWFpeOBo+OBpuOBhOOCi+mFjeWIl1xyXG5cdFx0XHRmcmVxdWVuY3k9bmV3IFVpbnQ4QXJyYXkoYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpO1xyXG5cdFx0XHQvL+OBiuOBneOCieOBj+mfs+WjsOODh+ODvOOCv+OBqOOCouODiuODqeOCpOOCtuODvOOCkuOBj+OBo+OBpOOBkeOCi1xyXG5cdFx0XHRzb3VyY2UuY29ubmVjdChhbmFseXNlcik7XHJcblx0XHRcdGluaXQoKTtcclxuXHJcblx0fSxmdW5jdGlvbihlcnIpe1xyXG5cdFx0Ly/jgqjjg6njg7zlh6bnkIZcclxuXHR9KTtcclxuXHJcblxyXG5cdHZhciBzb2NrZXQgPWlvKCk7XHJcblx0Ly/jgrXjg7zjg5Djg7zjgYvjgonjg4fjg7zjgr/jgpLlj5fjgZHlj5bjgotcclxuXHRzb2NrZXQub24oXCJ2akFjdGlvbkZyb21TZXJ2ZXJcIixmdW5jdGlvbihtc2cpe1xyXG5cdFx0JCgnI21lc3NhZ2VzJykuYXBwZW5kKCQoJzxsaT4nKS50ZXh0KG1zZykpO1xyXG5cdFx0aWYobXNnPT0xKXtcclxuXHRcdFx0dmlkZW8xLnBsYXkoKTtcclxuXHRcdFx0c2VsZWN0X3ZpZGVvPTE7XHJcblx0XHR9ZWxzZSBpZihtc2c9PTIpe1xyXG5cdFx0XHR2aWRlbzIucGxheSgpO1xyXG5cdFx0XHRzZWxlY3RfdmlkZW89MjtcclxuXHRcdH1cclxuXHR9KTtcclxufVxyXG5mdW5jdGlvbiBpbml0KCl7XHJcblx0Ly9jYW52YXPjgqjjg6zjg6Hjg7Pjg4jjgpLmiYDlvpdcclxuXHRjPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG5cdGMud2lkdGg9NzIwO1xyXG5cdGMuaGVpZ2h0PTQ4MDtcclxuXHJcblxyXG5cdHZpZGVvMT12aWRlb19jcmVhdGUoXCIuLi9pbWcvb3JpZ2luYWwuXCIpO1xyXG5cdHZpZGVvMj12aWRlb19jcmVhdGUoXCIuLi9pbWcvaGFuZC5cIik7XHJcblxyXG5cdHZpZGVvX2FjdGlvbnModmlkZW8xKTtcclxuXHR2aWRlb19hY3Rpb25zKHZpZGVvMik7XHJcblx0XHJcblx0XHQvL+ODnOOCv+ODs+OCkuaKvOOBl+OBn+OBi+OBqeOBhuOBi1xyXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIgLCBLZXlEb3duKTtcclxufVxyXG5mdW5jdGlvbiB2aWRlb19hY3Rpb25zKF92aWRlbyl7XHJcblx0X3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5dGhyb3VnaFwiLGZ1bmN0aW9uKCl7XHJcblx0XHRhY3Rpb24oKTtcclxuXHR9LHRydWUpO1xyXG5cdF92aWRlby5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixmdW5jdGlvbigpe1xyXG5cdFx0X3ZpZGVvLnBsYXkoKTtcclxuXHR9LHRydWUpO1xyXG5cclxufVxyXG5mdW5jdGlvbiBhY3Rpb24oKXtcclxuXHRsb2FkX251bSsrO1xyXG5cdC8qXHJcblx0aWYobG9hZF9udW09PTE0KXtcclxuXHRcdHJlbmRlcigpO1xyXG5cdH0qL1xyXG5cdGlmKGxvYWRfbnVtPT01KXtcclxuXHRcdHJlbmRlcigpO1xyXG5cdH1cclxufVxyXG5mdW5jdGlvbiB2aWRlb19jcmVhdGUoX3NyYyl7XHJcblx0Ly/jg5Pjg4fjgqrjgqjjg6zjg6Hjg7Pjg4jjgpLnlJ/miJBcclxuXHR2YXIgdmlkZW89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO1xyXG5cdC8v44OT44OH44Kq44K/44Kk44OX44Gu44OB44Kn44OD44KvXHJcblx0dmFyIHZpZGVvRXh0PWNoZWNrVmlkZW9UeXBlKHZpZGVvKTtcclxuXHRpZih2aWRlb0V4dD09PW51bGwpe1xyXG5cdFx0YWxlcnQoXCJub3Qgc3VwcG9ydGVkXCIpO1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHQvL+OCveODvOOCueOBruiqreOBv+i+vOOBv1xyXG5cdHZpZGVvLnNyYz1fc3JjK3ZpZGVvRXh0O1xyXG5cdHJldHVybiB2aWRlbztcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyKCl7XHJcblx0Ly/jg5Pjg4fjgqrvvJHjgpLlho3nlJ9cclxuXHR2aWRlbzEucGxheSgpO1xyXG5cdGMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLG1vdXNlTW92ZSx0cnVlKTtcclxuXHR2YXIgZ2w9Yy5nZXRDb250ZXh0KFwid2ViZ2xcIil8fGMuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiKTtcclxuXHJcblx0dmFyIHZfc2hhZGVyPWNyZWF0ZV9zaGFkZXIoXCJ2c1wiKTtcclxuXHR2YXIgZl9zaGFkZXI9Y3JlYXRlX3NoYWRlcihcImZzXCIpO1xyXG5cclxuXHR2YXIgcHJnPWNyZWF0ZV9wcm9ncmFtKHZfc2hhZGVyLGZfc2hhZGVyKTtcclxuXHR2YXIgYXR0TG9jYXRpb249bmV3IEFycmF5KCk7XHJcblx0YXR0TG9jYXRpb25bMF09Z2wuZ2V0QXR0cmliTG9jYXRpb24ocHJnLFwicG9zaXRpb25cIik7XHJcblx0YXR0TG9jYXRpb25bMV09Z2wuZ2V0QXR0cmliTG9jYXRpb24ocHJnLFwiY29sb3JcIik7XHJcblx0YXR0TG9jYXRpb25bMl09Z2wuZ2V0QXR0cmliTG9jYXRpb24ocHJnLFwidGV4dHVyZUNvb3JkXCIpO1xyXG5cdGF0dExvY2F0aW9uWzNdPWdsLmdldEF0dHJpYkxvY2F0aW9uKHByZyxcImluc3RhbmNlUG9zaXRpb25cIik7XHJcblxyXG5cdHZhciBhdHRTdHJpZGU9bmV3IEFycmF5KCk7XHJcblx0YXR0U3RyaWRlWzBdPTM7XHJcblx0YXR0U3RyaWRlWzFdPTQ7XHJcblx0YXR0U3RyaWRlWzJdPTI7XHJcblx0YXR0U3RyaWRlWzNdPTM7XHJcblxyXG5cdHZhciB1bmlMb2NhdGlvbj1uZXcgQXJyYXkoKTtcclxuXHR1bmlMb2NhdGlvblswXT1nbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJnLFwibXZwTWF0cml4XCIpO1xyXG5cdHVuaUxvY2F0aW9uWzFdPWdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcmcsXCJ0ZXh0dXJlXCIpO1xyXG5cclxuXHQvL+OCreODpeODvOODluODh+ODvOOCv1xyXG5cdHZhciBjdWJlRGF0YT1jdWJlKDEsWzEuMCwxLjAsMS4wLDEuMF0pO1xyXG5cdHZhciBjUG9zaXRpb249Y3JlYXRlX3ZibyhjdWJlRGF0YS5wKTtcclxuXHR2YXIgY0NvbG9yPWNyZWF0ZV92Ym8oY3ViZURhdGEuYyk7XHJcblx0dmFyIGNUZXh0dXJlQ29vcmQ9Y3JlYXRlX3ZibyhjdWJlRGF0YS50KTtcclxuXHR2YXIgY1ZCT0xpc3Q9W2NQb3NpdGlvbixjQ29sb3IsY1RleHR1cmVDb29yZF07XHJcblx0dmFyIGNJbmRleD1jcmVhdGVfaWJvKGN1YmVEYXRhLmkpO1xyXG5cdC8q5ouh5by15qmf6IO944KS5pyJ5Yq55YyWKi9cclxuXHR2YXIgZXh0O1xyXG5cdGV4dD1nbC5nZXRFeHRlbnNpb24oXCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzXCIpO1xyXG5cdGlmKGV4dD09bnVsbCl7XHJcblx0XHRhbGVydChcIkFOR0xFX2luc3RhbmNlZF9hcnJheXMgbm90IHN1cHBvcnRlZFwiKTtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdC8v5ZCE44Kk44Oz44K544K/44Oz44K544Gr6YGp55So44GZ44KL44OH44O844K/XHJcblxyXG5cdC8v44Kk44Oz44K544K/44Oz44K544Gu5pWwXHJcblx0dmFyIGluc3RhbmNlQ291bnQ9MTI1O1xyXG5cclxuXHQvL+OCpOODs+OCueOCv+ODs+OCueeUqOmFjeWIl1xyXG5cdHZhciBpbnN0YW5jZVBvc2l0aW9ucz1uZXcgQXJyYXkoKTtcclxuXHJcblx0Ly/phY3liJfnlKjjga7jgrnjg4jjg6njgqTjg4lcclxuXHR2YXIgb2Zmc2V0UG9zaXRpb249MztcclxuXHJcblx0Zm9yKHZhciBpPTA7aTxpbnN0YW5jZUNvdW50O2krKyl7XHJcblx0XHRpbnN0YW5jZVBvc2l0aW9uc1tpKm9mZnNldFBvc2l0aW9uXT0tKGklNS4wKSoxLjUrMC4wO1xyXG5cdFx0aW5zdGFuY2VQb3NpdGlvbnNbaSpvZmZzZXRQb3NpdGlvbisxXT0oTWF0aC5mbG9vcihpLzUuMCklNS4wKSoxLjUrMC4wO1xyXG5cdFx0aW5zdGFuY2VQb3NpdGlvbnNbaSpvZmZzZXRQb3NpdGlvbisyXT1NYXRoLmZsb29yKGkvMjUuMCkqMS41KzAuMDtcclxuXHR9XHJcblxyXG5cdC8v6YWN5YiX44GL44KJVkJP44KS55Sf5oiQXHJcblx0dmFyIGlQb3NpdGlvbj1jcmVhdGVfdmJvKGluc3RhbmNlUG9zaXRpb25zKTtcclxuXHJcblx0Ly/jg4jjg7zjg6njgrnjga5hdHRyaWJ1dGXplqLpgKNcclxuXHRzZXRfYXR0cmlidXRlKGNWQk9MaXN0LGF0dExvY2F0aW9uLGF0dFN0cmlkZSk7XHJcblx0Z2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixjSW5kZXgpO1xyXG5cclxuXHQvL+OCpOODs+OCueOCv+ODs+OCueeUqOOBruW6p+aomeS9jee9rlZCT+OCkuacieWKueOBq+OBmeOCi1xyXG5cdGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLGlQb3NpdGlvbik7XHJcblx0Z2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYXR0TG9jYXRpb25bM10pO1xyXG5cdGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoYXR0TG9jYXRpb25bM10sYXR0U3RyaWRlWzNdLGdsLkZMT0FULGZhbHNlLDAsMCk7XHJcblx0Ly/jgqTjg7Pjgrnjgr/jg7PjgrnnlKjjga7mnInlirnljJbjgZfpmaTmlbDjgpLmjIflrprjgZnjgotcclxuXHRleHQudmVydGV4QXR0cmliRGl2aXNvckFOR0xFKGF0dExvY2F0aW9uWzNdLDEpO1xyXG5cdC8v5ZCE56iu6KGM5YiX44Gu55Sf5oiQ44Go5Yid5pyf5YyWXHJcblx0dmFyIG09bmV3IG1hdElWKCk7XHJcblx0dmFyIG1NYXRyaXg9bS5pZGVudGl0eShtLmNyZWF0ZSgpKTtcclxuXHR2YXIgdk1hdHJpeD1tLmlkZW50aXR5KG0uY3JlYXRlKCkpO1xyXG5cdHZhciBwTWF0cml4PW0uaWRlbnRpdHkobS5jcmVhdGUoKSk7XHJcblx0dmFyIHRtcE1hdHJpeD1tLmlkZW50aXR5KG0uY3JlYXRlKCkpO1xyXG5cdHZhciBtdnBNYXRyaXg9bS5pZGVudGl0eShtLmNyZWF0ZSgpKTtcclxuXHR2YXIgaW52TWF0cml4PW0uaWRlbnRpdHkobS5jcmVhdGUoKSk7XHJcblxyXG5cdGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcclxuXHRnbC5kZXB0aEZ1bmMoZ2wuTEVRVUFMKTtcclxuXHRnbC5lbmFibGUoZ2wuQ1VMTF9GQUNFKTtcclxuXHJcblxyXG5cdGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTApO1xyXG5cclxuXHR2YXIgdmlkZW9UZXh0dXJlMT1udWxsO1xyXG5cdHZhciB2aWRlb1RleHR1cmUyPW51bGw7XHJcblxyXG5cdGNyZWF0ZV90ZXh0dXJlVmlkZW8odmlkZW8xLDEpO1xyXG5cdGNyZWF0ZV90ZXh0dXJlVmlkZW8odmlkZW8yLDIpO1xyXG5cdC8v44Kr44Km44Oz44K/44Gu5a6j6KiAXHJcblx0dmFyIGNvdW50PTA7XHJcblx0dmFyIGNvdW50Mj0wO1xyXG5cclxuXHQvL+aBkuW4uOODq+ODvOODl1xyXG5cdChmdW5jdGlvbiBsb29wKCl7XHJcblx0XHR2YXIgc2NhbGVWYWx1ZT0xLjA7XHJcblx0XHRpZihmZnRfZmxhZz09dHJ1ZSl7XHJcblx0XHRcdGFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKGZyZXF1ZW5jeSk7XHJcblx0XHRcdC8vY29uc29sZS5sb2coZnJlcXVlbmN5WzYwXSk7XHJcblx0XHRcdHNjYWxlVmFsdWU9ZnJlcXVlbmN5WzUwXS81MDArMC42O1xyXG5cdFx0fVxyXG5cdFx0Y291bnQrKztcclxuXHRcdGlmIChjb3VudCAlIDEwID09IDApIHtcclxuXHRcdCAgICBjb3VudDIrKztcclxuXHRcdH1cclxuXHRcdGlmKHNlbGVjdF92aWRlbz09MSl7XHJcblx0XHRcdC8v44OG44Kv44K544OB44Oj44KS5pu05paw44GZ44KLXHJcblx0XHRcdGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCk7XHJcblx0XHRcdGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdmlkZW9UZXh0dXJlMSk7XHJcblx0XHRcdGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwwLGdsLlJHQkEsZ2wuUkdCQSxnbC5VTlNJR05FRF9CWVRFLHZpZGVvMSk7XHJcblx0XHR9ZWxzZSBpZihzZWxlY3RfdmlkZW89PTIpe1xyXG5cdFx0XHQvL+ODhuOCr+OCueODgeODo+OCkuabtOaWsOOBmeOCi1xyXG5cdFx0XHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELG51bGwpO1xyXG5cdFx0XHRnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELHZpZGVvVGV4dHVyZTIpO1xyXG5cdFx0XHRnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsMCxnbC5SR0JBLGdsLlJHQkEsZ2wuVU5TSUdORURfQllURSx2aWRlbzIpO1xyXG5cdFx0fVxyXG5cclxuXHJcblx0XHQvL+ODk+ODpeODvMOX44OX44Ot44K444Kn44Kv44K344On44Oz5bqn5qiZ5aSJ5o+b6KGM5YiXXHJcblx0XHR2YXIgZXllUG9zaXRpb249bmV3IEFycmF5KCk7XHJcblx0XHR2YXIgY2FtVXBEaXJlY3Rpb249bmV3IEFycmF5KCk7XHJcblx0XHRxLnRvVmVjSUlJKFswLjAsMC4wLDE1LjBdLHF0LGV5ZVBvc2l0aW9uKTtcclxuXHRcdHEudG9WZWNJSUkoWzAuMCwxLjAsMC4wXSxxdCxjYW1VcERpcmVjdGlvbik7XHJcblx0XHRtLmxvb2tBdChleWVQb3NpdGlvbixbMC4wLDAuMCwwLjBdLGNhbVVwRGlyZWN0aW9uLHZNYXRyaXgpO1xyXG5cdFx0bS5wZXJzcGVjdGl2ZSg0NSxjLndpZHRoL2MuaGVpZ2h0LDAuMSw1MC4wLHBNYXRyaXgpO1xyXG5cdFx0bS5tdWx0aXBseShwTWF0cml4LHZNYXRyaXgsdG1wTWF0cml4KTtcclxuXHJcblx0XHQvL2NhbnZhc+OCkuWIneacn+WMllxyXG5cdFx0dmFyIGhzdiA9IGhzdmEoY291bnQyICUgMzYwLCAxLCAxLCAxKTtcclxuICAgICAgICBnbC5jbGVhckNvbG9yKGhzdlswXSwgaHN2WzFdLCBoc3ZbMl0sIGhzdlszXSk7XHJcblx0XHRnbC5jbGVhckRlcHRoKDEuMCk7XHJcblx0XHRnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XHJcblxyXG5cdFx0Ly/jgq3jg6Xjg7zjg5bjga7jg6zjg7Pjgr/jg6rjg7PjgrBcclxuXHRcdG0uaWRlbnRpdHkobU1hdHJpeCk7XHJcblx0XHQvL20ucm90YXRlKG1NYXRyaXgsKGNvdW50JTM2MCkqTWF0aC5QSS8xODAsWzAuMCwxLjAsMC4wXSxtTWF0cml4KTtcclxuXHRcdG0udHJhbnNsYXRlKG1NYXRyaXgsWzAuMCwwLjAsc3BlZWRdLG1NYXRyaXgpO1xyXG5cdFx0bS5zY2FsZShtTWF0cml4LFtzY2FsZVZhbHVlLHNjYWxlVmFsdWUsc2NhbGVWYWx1ZV0sbU1hdHJpeCk7XHJcblx0XHRtLnJvdGF0ZShtTWF0cml4LE1hdGguUEksWzAuMCwwLjAsMS4wXSxtTWF0cml4KTtcclxuXHRcdG0ubXVsdGlwbHkodG1wTWF0cml4LG1NYXRyaXgsbXZwTWF0cml4KTtcclxuXHRcdG0uaW52ZXJzZShtTWF0cml4LGludk1hdHJpeCk7XHJcblx0XHRnbC51bmlmb3JtTWF0cml4NGZ2KHVuaUxvY2F0aW9uWzBdLGZhbHNlLG12cE1hdHJpeCk7XHJcblx0XHRnbC51bmlmb3JtMWkodW5pTG9jYXRpb25bMV0sMCk7XHJcblxyXG5cdFx0ZXh0LmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFKGdsLlRSSUFOR0xFUyxjdWJlRGF0YS5pLmxlbmd0aCxnbC5VTlNJR05FRF9TSE9SVCwwLGluc3RhbmNlQ291bnQpO1xyXG5cclxuXHRcdGdsLmZsdXNoKCk7XHJcblx0XHQvL3JlcXVlc3RBbmltYXRpb25GcmFtZShhKTtcclxuXHRcdC8vcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFyZ3VtZW50cy5jYWxsZWUpO1xyXG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xyXG5cdFx0Ly9zZXRUaW1lb3V0KGEsMTAwMC8zMCk7XHJcblx0fSkoKTtcclxuXHJcblx0Ly/jgrfjgqfjg7zjg4DjgpLnlJ/miJDjgZnjgovplqLmlbBcclxuXHRmdW5jdGlvbiBjcmVhdGVfc2hhZGVyKGlkKXtcclxuXHRcdHZhciBzaGFkZXI7XHJcblxyXG5cdFx0dmFyIHNjcmlwdEVsZW1lbnQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG5cclxuXHRcdGlmKCFzY3JpcHRFbGVtZW50KXtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN3aXRjaChzY3JpcHRFbGVtZW50LnR5cGUpe1xyXG5cdFx0XHRjYXNlICd4LXNoYWRlci94LXZlcnRleCc6XHJcblx0XHRcdHNoYWRlcj1nbC5jcmVhdGVTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUik7XHJcblx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0Y2FzZSAneC1zaGFkZXIveC1mcmFnbWVudCc6XHJcblx0XHRcdHNoYWRlcj1nbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcclxuXHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Z2wuc2hhZGVyU291cmNlKHNoYWRlcixzY3JpcHRFbGVtZW50LnRleHQpO1xyXG5cclxuXHRcdGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcclxuXHRcdC8v44K344Kn44O844OA44O844GM5q2j44GX44GP44Kz44Oz44OR44Kk44Or44GV44KM44Gf44GL44OB44Kn44OD44KvXHJcblx0XHRpZihnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLGdsLkNPTVBJTEVfU1RBVFVTKSl7XHJcblx0XHRcdHJldHVybiBzaGFkZXI7XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0YWxlcnQoZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGNyZWF0ZV9wcm9ncmFtKHZzLGZzKXtcclxuXHRcdC8v44OX44Ot44Kw44Op44Og44Kq44OW44K444Kn44Kv44OI44Gu55Sf5oiQXHJcblx0XHR2YXIgcHJvZ3JhbT1nbC5jcmVhdGVQcm9ncmFtKCk7XHJcblxyXG5cdFx0Z2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sdnMpO1xyXG5cdFx0Z2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sZnMpO1xyXG5cclxuXHRcdGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xyXG5cclxuXHRcdGlmKGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSxnbC5MSU5LX1NUQVRVUykpe1xyXG5cdFx0XHQvL+aIkOWKn+OBl+OBpuOBhOOBn+OCieODl+ODreOCsOODqeODoOOCquODluOCuOOCp+OCr+ODiOOCkuacieWKueOBq+OBmeOCi1xyXG5cdFx0XHRnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xyXG5cclxuXHRcdFx0Ly/jg5fjg63jgrDjg6njg6Djgqrjg5bjgrjjgqfjgq/jg4jjgpLov5TjgZfjgabntYLkuoZcclxuXHRcdFx0cmV0dXJuIHByb2dyYW07XHJcblx0XHR9ZWxzZXtcclxuXHRcdFx0YWxlcnQoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly9WQk/jgpLnlJ/miJDjgZnjgovplqLmlbBcclxuXHRmdW5jdGlvbiBjcmVhdGVfdmJvKGRhdGEpe1xyXG5cdFx0dmFyIHZibz1nbC5jcmVhdGVCdWZmZXIoKTtcclxuXHRcdC8v44OQ44OD44OV44Kh44KS44OQ44Kk44Oz44OJXHJcblx0XHRnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUix2Ym8pO1xyXG5cdFx0Ly/jg5Djg4Pjg5XjgqHjgavjg4fjg7zjgr/jgpLjgrvjg4Pjg4hcclxuXHRcdGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksZ2wuU1RBVElDX0RSQVcpO1xyXG5cdFx0Ly/jg5Djg4Pjg5XjgqHjga7jg5DjgqTjg7Pjg4njgpLnhKHlirnljJZcclxuXHRcdGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLG51bGwpO1xyXG5cclxuXHRcdHJldHVybiB2Ym87XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBzZXRfYXR0cmlidXRlKHZibyxhdHRMLGF0dFMpe1xyXG5cdFx0Ly/lvJXmlbDjgajjgZfjgablj5fjgZHlj5bjgaPjgZ/phY3liJfjgpLlh6bnkIbjgZnjgotcclxuXHRcdGZvcih2YXIgaSBpbiB2Ym8pe1xyXG5cdFx0XHRnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUix2Ym9baV0pO1xyXG5cdFx0XHQvL2F0dHJpYnV0ZUxvY2F0aW9u44KS5pyJ5Yq544Gr44GZ44KLXHJcblx0XHRcdGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGF0dExbaV0pO1xyXG5cdFx0XHQvL2F0dHJpYnV0ZUxvY2F0aW9u44KS6YCa55+l44GX55m76YyyXHJcblx0XHRcdGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoYXR0TFtpXSxhdHRTW2ldLGdsLkZMT0FULGZhbHNlLDAsMCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGZ1bmN0aW9uIGNyZWF0ZV9pYm8oZGF0YSl7XHJcblx0XHR2YXIgaWJvPWdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG5cdFx0Z2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixpYm8pO1xyXG5cdFx0Z2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUixuZXcgSW50MTZBcnJheShkYXRhKSxnbC5TVEFUSUNfRFJBVyk7XHJcblx0XHRnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLG51bGwpO1xyXG5cdFx0cmV0dXJuIGlibztcclxuXHR9XHJcblx0Ly92aWRlb+OBruODhuOCr+OCueODgeODo+OCkuS9nOaIkFxyXG5cdGZ1bmN0aW9uIGNyZWF0ZV90ZXh0dXJlVmlkZW8oX3NvdXJjZSxfbnVtYmVyKXtcclxuXHRcdHZhciB2aWRlb1RleHR1cmU9Z2wuY3JlYXRlVGV4dHVyZShnbC5URVhUVVJFXzJEKTtcclxuXHRcdGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsdmlkZW9UZXh0dXJlKTtcclxuXHRcdGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwwLGdsLlJHQkEsZ2wuUkdCQSxnbC5VTlNJR05FRF9CWVRFLF9zb3VyY2UpO1xyXG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUFHX0ZJTFRFUixnbC5MSU5FQVIpO1xyXG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfTUlOX0ZJTFRFUixnbC5MSU5FQVIpO1xyXG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9TLGdsLkNMQU1QX1RPX0VER0UpO1xyXG5cdFx0Z2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELGdsLlRFWFRVUkVfV1JBUF9ULGdsLkNMQU1QX1RPX0VER0UpO1xyXG5cclxuXHRcdGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsbnVsbCk7XHJcbiAgICAgICAgc3dpdGNoKF9udW1iZXIpe1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICB2aWRlb1RleHR1cmUxID0gdmlkZW9UZXh0dXJlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHZpZGVvVGV4dHVyZTIgPSB2aWRlb1RleHR1cmU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblx0fVxyXG59Il19
